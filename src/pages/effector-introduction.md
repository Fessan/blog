## Введение

У нас прошел воркшоп, на котором было множество вопросов. Я решил собрать их все вместе и поэтапно ответить на них. Будет интересно начинающим: мы разберем что такое реактивность и какие проблемы она решает, познакомимся с эффектором с нуля. Опытным разработчикам тоже будет интересно: поговорим про проблемы реактивности (в частности в Rx.js), причем тут графы, и немного про архитектуру.

## План

- Использованные ресуры: что такое CSSSR.school, комьюнити эффектора
  - [Канал](https://www.youtube.com/channel/UCdkZ6ckHOJ3DjAYxoGeMG0w/videos)
  - [RU чат эффектора в тлг](https://t.me/effector_ru)
  - Об авторе и ментейнерах, баз фактор
  - Мемы: доказательство тривиально и предоставляется слушателю https://2ch.pm/ch/src/1/15144575254230.jpg, [effector promo](https://t.me/effector_ru/26937)
- Про СТМ (стейт-менеджер) в целом
  - Global shared collection / DataBase / state-manager (reactive by default)
  - Множество абстракций не заметны
  - [Remove "Redux itself is very simple"](https://github.com/reduxjs/redux/pull/2950)

- Все СТМ плохие, но авторы библиотек - хорошие, они построили абстракции, которые вы не замечаете
- pull VS push
- Обсерваблы - это про потоки, еффектор про данные
- В отличии от MobX не требует декораторов, классов, .set() .get(), значительно меньше в размере, декларативен
- Ромбы, глитчи, ленивость
- Проблемы мобыкса: рантайм семантика и прокси
- Помимо компиляции и рантайма у кода есть как бы еще одна фаза - инициализация
- Пример с displayName - тесты и код на гитхабе
- Сравнить с мобыксом и редаксом, обсерваблами. Может упомянуть перечень других библиотек
- Графы, leftist heap tree, statefull, топологическая сортировка возможно только в DAG
- (вопрос) здесь математика нужна? - нет
- (вопрос) будут ли девтулзы? - уже в разработке и они потенциально мощнее редаксовских
- (вопрос) в Redux-Saga есть очень клевые штуки аля "takeEvery" / "takeLatest", что есть в эффекторе? - эффектор, в первую очередь, про данные (как и редакс), хотя позволяет легко строить поверх событий сложные асинхронные взаимосвязи
- (вопрос) отличие от обсерваблов. - эффективный порядок вычислений
- (вопрос) Где его лучше использовать и когда
- (вопрос) Продакшен реди? Сколько ментейнеров, баз фактор?
- Вес и скорость работы, поддерживаемые браузеры
- (вопрос) Данные иммутабельны?
- Все ноды имеют интероп с обсерваблами
- Эффектор: статически типизирован, множественные сторы, вычисляемые значения, мемоизация селекторов не нужна, управление сайд-эффектами, меньше **бойлерплейта**, не зависит от фреймворка, многое из коробки
- (вопрос) При обновлении участка стора отрабатывают только подписки, связанный с этим участком, или все подписки на стор? - атомарные сторы. - то есть стор нужно держать "плоским"? - Иногда нужна нормализация, но он может быть вложенная
- Сначала выполняются все редусеры из `on`, потом все вотчеры
- Есть интероп с реактом, ву, свелт, ризон, нодой (стейтфул)
- вотчеры для сайд-эффектов - они выполняются после всех вычислений
- (вопрос) advanced примеры
- проблема с ssr в том что сторов много если из них делать фабрики не понятно как между ними строить связи
- про перформанс - эффектор максимально быстро обрабатывает точечные изменения
- (вопрос) префикс `$`
- эффектор, по сравнению с мобыксом, более декларативный
- циклические зависимости и блуждающий `.on`
- prepend, map на событиях
- Используя фабрику компьютедов стоит учитывать что эффектор не ленивый (может течь память и цпу)
- [Throw in reducer is not cancel computation of other reducers](https://github.com/zerobias/effector/issues/90)
- евенты императивные и суммарно все не очень похоже на классический EE
- sample и getState (примеры из tips)
- Поддержка браузеров с Map и Set очень хорошая
- application state VS [view] module state
- Концепции эффектора строятся на базовых трудах по обмену сообщениями

> ядро эффектора оперирует семантикой, в принципе не доступной обсерваблам, ни приоритизации, ни самого понятия побочных эффектов в спеке обсерваблов просто нет (@ZeroBias)

> Эффектор - это способ описания [сложных] взаимосвязей между данными

https://codesandbox.io/s/effector-comparison-r9qy2

> - https://wiki2.org/en/Reactive_programming
> - http://dist-prog-book.com/chapter/3/message-passing.html
> - http://pchiusano.blogspot.com/2010/01/actors-are-not-good-concurrency-model.html
> - http://www.craftinginterpreters.com/contents.html we are here: Control Flow
> - [The introduction to Reactive Programming you've been missing](https://gist.github.com/staltz/868e7e9bc2a7b8c1f754)